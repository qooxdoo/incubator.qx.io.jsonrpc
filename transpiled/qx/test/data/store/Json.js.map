{
  "version": 3,
  "sources": [
    "/home/runner/work/incubator.qx.io.jsonrpc/incubator.qx.io.jsonrpc/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/test/data/store/Json.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "dev",
    "unit",
    "TestCase",
    "include",
    "MMock",
    "members",
    "__store",
    "__data",
    "__propertyNames",
    "setUp",
    "data",
    "store",
    "Json",
    "eval",
    "url",
    "util",
    "ResourceManager",
    "getInstance",
    "toUri",
    "setUpFakeRequest",
    "req",
    "request",
    "io",
    "Xhr",
    "send",
    "setParser",
    "dispose",
    "prototype",
    "stub",
    "returns",
    "tearDown",
    "getSandbox",
    "restore",
    "model",
    "name",
    "$$registry",
    "search",
    "testConfigureNewTransportConstructor",
    "testLoadUrl",
    "addListener",
    "resume",
    "getModel",
    "assertEquals",
    "getString",
    "setUrl",
    "wait",
    "testProgressStates",
    "states",
    "evt",
    "state",
    "getData",
    "push",
    "expected",
    "assertArrayEquals",
    "testLoadResource",
    "resource",
    "testParseErrorForResource",
    "ev",
    "assertString",
    "response",
    "assertObject",
    "error",
    "testLoadAlias",
    "AliasManager",
    "remove",
    "add",
    "alias",
    "testDispose",
    "testWholePrimitive",
    "getNumber",
    "getBoolean",
    "assertNull",
    "getNull",
    "testWholeArray",
    "assertNotNull",
    "getArray",
    "classname",
    "getItem",
    "testWholeObject",
    "getO",
    "getA",
    "getB",
    "testOwnClassWith",
    "core",
    "Object",
    "properties",
    "a",
    "check",
    "event",
    "b",
    "delegate",
    "getModelClass",
    "getByName",
    "testOwnClassWithout",
    "testOwnSuperclassWith",
    "getModelSuperClass",
    "test",
    "O",
    "assertTrue",
    "isSubClassOf",
    "constructor",
    "testOwnSuperclassWithout",
    "testOwnMixinWithout",
    "getModelMixins",
    "testOwnMixinWith",
    "Mixin",
    "M",
    "testOwnMixinWithMultiple",
    "M1",
    "M2",
    "testManipulatePrimitive",
    "manipulateData",
    "spy",
    "assertCalled",
    "testConfigureRequestPrimitive",
    "self",
    "configureRequest",
    "assertInstance",
    "testDisposeOldModel",
    "assertNotEquals",
    "fakeModel",
    "isDisposed",
    "setModel",
    "testDisposeRequest",
    "testDisposeRequestDone",
    "testErrorEvent",
    "useFakeServer",
    "server",
    "getServer",
    "respondWith",
    "e",
    "getPhase",
    "Timer",
    "once",
    "respond"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Martin Wittemann (martinwittemann)\n     * Tristan Koch (tristankoch)\n\n************************************************************************ */\n\n/* ************************************************************************\n************************************************************************ */\n\n/**\n *\n * @asset(qx/test/*)\n * @ignore(qx.data.model, qx.test.O, qx.test.M, qx.test.M1, qx.test.M2)\n * @require(qx.io.request.Xhr)\n */\n\nqx.Class.define(\"qx.test.data.store.Json\",\n{\n  extend : qx.dev.unit.TestCase,\n\n  include : qx.dev.unit.MMock,\n\n  members :\n  {\n    __store : null,\n    __data : null,\n    __propertyNames : null,\n\n\n    /**\n     * @lint ignoreDeprecated(eval)\n     */\n    setUp : function()\n    {\n      this.__store = new qx.data.store.Json();\n\n      this.__data = eval(\"({s: 'String', n: 12, b: true})\");\n      this.__propertyNames = [\"s\", \"n\", \"b\"];\n\n      this.url = qx.util.ResourceManager.getInstance().\n        toUri(\"qx/test/primitive.json\");\n    },\n\n\n    setUpFakeRequest : function()\n    {\n      var req = this.request = new qx.io.request.Xhr(this.url);\n      req.send = req.setParser = function() {};\n      req.dispose = qx.io.request.Xhr.prototype.dispose;\n      this.stub(qx.io.request, \"Xhr\").returns(this.stub(req));\n    },\n\n\n    tearDown : function()\n    {\n      this.getSandbox().restore();\n\n      if (this.request) {\n\n        // Restore manually (is unreachable from sandbox)\n        if (typeof this.request.dispose.restore == \"function\") {\n          this.request.dispose.restore();\n        }\n\n        // Dispose\n        this.request.dispose();\n      }\n\n      this.__store.dispose();\n\n      // Remove the former created classes\n      qx.data.model = {};\n      for (var name in qx.Class.$$registry) {\n        if (name.search(\"qx.data.model\") != -1) {\n          delete qx.Class.$$registry[name];\n        }\n      }\n    },\n\n\n    testConfigureNewTransportConstructor : function()\n    {\n      var store = new qx.data.store.Json(this.url, null, false);\n      store.dispose();\n    },\n\n\n    testLoadUrl : function() {\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          this.assertEquals(\"String\", model.getString(), \"The model is not created how it should!\");\n        }, this);\n      }, this);\n\n      var url = this.url;\n      this.__store.setUrl(url);\n\n      this.wait();\n    },\n\n\n    testProgressStates : function() {\n      var url = this.url,\n          states = [];\n\n      this.__store.addListener(\"changeState\", function(evt) {\n        var state = evt.getData();\n        states.push(state);\n\n        if (state == \"completed\") {\n          this.resume(function() {\n            var expected = [\"configured\", \"sending\", \"receiving\", \"completed\"];\n            this.assertArrayEquals(expected, states);\n          });\n        }\n      }, this);\n\n      this.__store.setUrl(url);\n      this.wait();\n    },\n\n\n    testLoadResource : function() {\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          this.assertEquals(\"String\", model.getString(), \"The model is not created how it should!\");\n        }, this);\n      }, this);\n\n      var resource = \"qx/test/primitive.json\";\n      this.__store.setUrl(resource);\n\n      this.wait();\n    },\n\n\n    testParseErrorForResource : function() {\n      this.__store.addListener(\"parseError\", function(ev) {\n        this.resume(function() {\n          this.assertString(ev.getData().response, \"Parse error object does not contain response!\");\n          this.assertObject(ev.getData().error, \"Parse error object does not contain parser exception!\");\n        }, this);\n      }, this);\n\n      var resource = \"qx/test/failing.json\";\n      this.__store.setUrl(resource);\n\n      this.wait();\n    },\n\n\n    testLoadAlias : function() {\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          this.assertEquals(\"String\", model.getString(), \"The model is not created how it should!\");\n          qx.util.AliasManager.getInstance().remove(\"testLoadResource\");\n        }, this);\n      }, this);\n\n      // invoke alias handling\n      qx.util.AliasManager.getInstance().add(\"testLoadResource\", \"qx/test\");\n\n      var alias = \"testLoadResource/primitive.json\";\n      this.__store.setUrl(alias);\n\n      this.wait();\n    },\n\n\n    testDispose: function() {\n      this.__store.setUrl(this.url);\n      this.__store.dispose();\n    },\n\n\n    testWholePrimitive: function() {\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          this.assertEquals(\"String\", model.getString(), \"The model is not created how it should!\");\n          this.assertEquals(12, model.getNumber(), \"The model is not created how it should!\");\n          this.assertEquals(true, model.getBoolean(), \"The model is not created how it should!\");\n          this.assertNull(model.getNull(), \"The model is not created how it should!\");\n        }, this);\n      }, this);\n\n      var url = this.url;\n      this.__store.setUrl(url);\n\n      this.wait();\n    },\n\n\n    testWholeArray: function() {\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          this.assertNotNull(model.getArray(), \"The model is not created how it should!\");\n          this.assertEquals(\"qx.data.Array\", model.getArray().classname, \"Wrong array class.\");\n          this.assertEquals(\"a\", model.getArray().getItem(0), \"Wrong content of the array.\");\n          this.assertEquals(\"b\", model.getArray().getItem(1), \"Wrong content of the array.\");\n          this.assertEquals(\"c\", model.getArray().getItem(2), \"Wrong content of the array.\");\n        }, this);\n      }, this);\n\n      var url = qx.util.ResourceManager.getInstance().toUri(\"qx/test/array.json\");\n      this.__store.setUrl(url);\n      this.wait();\n    },\n\n\n    testWholeObject: function() {\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          this.assertNotNull(model.getO(), \"The model is not created how it should!\");\n          this.assertEquals(\"a\", model.getO().getA(), \"Wrong content of the object.\");\n          this.assertEquals(\"b\", model.getO().getB(), \"Wrong content of the object.\");\n\n        }, this);\n      }, this);\n\n      var url = qx.util.ResourceManager.getInstance().toUri(\"qx/test/object.json\");\n      this.__store.setUrl(url);\n      this.wait();\n    },\n\n\n    testOwnClassWith: function() {\n      // define a test class\n      qx.Class.define(\"qx.test.AB\",\n      {\n        extend : qx.core.Object,\n\n        properties :\n        {\n          a : {\n            check : \"String\",\n            event : \"changeA\"\n          },\n\n          b : {\n            check : \"String\",\n            event : \"changeB\"\n          }\n        }\n      });\n\n      var delegate = {\n        getModelClass : function(properties) {\n          if (properties == 'a|b' || properties == 'a|b♥') {\n            return qx.Class.getByName(\"qx.test.AB\");\n          }\n          return null;\n        }\n      };\n      this.__store = new qx.data.store.Json(null, delegate);\n\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          this.assertNotNull(model.getO(), \"The model is not created how it should!\");\n\n          this.assertEquals(\"qx.test.AB\", model.getO().classname, \"Not the given class used!\");\n\n          this.assertEquals(\"a\", model.getO().getA(), \"Wrong content of the object.\");\n          this.assertEquals(\"b\", model.getO().getB(), \"Wrong content of the object.\");\n\n        }, this);\n      }, this);\n\n      var url = qx.util.ResourceManager.getInstance().toUri(\"qx/test/object.json\");\n      this.__store.setUrl(url);\n\n      this.wait();\n    },\n\n\n    testOwnClassWithout: function() {\n\n      var delegate = {\n        getModelClass : function(properties) {\n          return null;\n        }\n      };\n      this.__store = new qx.data.store.Json(null, delegate);\n\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          this.assertNotNull(model.getO(), \"The model is not created how it should!\");\n          this.assertEquals(\"a\", model.getO().getA(), \"Wrong content of the object.\");\n          this.assertEquals(\"b\", model.getO().getB(), \"Wrong content of the object.\");\n\n        }, this);\n      }, this);\n\n      var url = qx.util.ResourceManager.getInstance().toUri(\"qx/test/object.json\");\n      this.__store.setUrl(url);\n      this.wait();\n    },\n\n\n    testOwnSuperclassWith: function() {\n      // define a test class\n      qx.Class.define(\"qx.test.O\",\n      {\n        extend : qx.core.Object\n      });\n\n      var delegate = {\n        getModelSuperClass : function(properties) {\n          return qx.test.O;\n        }\n      };\n      this.__store = new qx.data.store.Json(null, delegate);\n\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          this.assertTrue(qx.Class.isSubClassOf(model.constructor, qx.test.O));\n          this.assertNotNull(model.getO(), \"The model is not created how it should!\");\n          this.assertTrue(qx.Class.isSubClassOf(model.getO().constructor, qx.test.O));\n          this.assertEquals(\"a\", model.getO().getA(), \"Wrong content of the object.\");\n          this.assertEquals(\"b\", model.getO().getB(), \"Wrong content of the object.\");\n        }, this);\n      }, this);\n\n      var url = qx.util.ResourceManager.getInstance().toUri(\"qx/test/object.json\");\n      this.__store.setUrl(url);\n\n      this.wait();\n    },\n\n\n    testOwnSuperclassWithout: function() {\n      // define a test class\n      qx.Class.define(\"qx.test.O\",\n      {\n        extend : qx.core.Object\n      });\n\n      var delegate = {\n        getModelSuperClass : function(properties) {\n          return null;\n        }\n      };\n      this.__store = new qx.data.store.Json(null, delegate);\n\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          this.assertNotNull(model.getO(), \"The model is not created how it should!\");\n          this.assertEquals(\"a\", model.getO().getA(), \"Wrong content of the object.\");\n          this.assertEquals(\"b\", model.getO().getB(), \"Wrong content of the object.\");\n        }, this);\n      }, this);\n\n      var url = qx.util.ResourceManager.getInstance().toUri(\"qx/test/object.json\");\n      this.__store.setUrl(url);\n\n      this.wait();\n    },\n\n\n    testOwnMixinWithout: function() {\n      var delegate = {\n        getModelMixins : function(properties) {\n          return null;\n        }\n      };\n      this.__store = new qx.data.store.Json(null, delegate);\n\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          this.assertNotNull(model.getO(), \"The model is not created how it should!\");\n          this.assertEquals(\"a\", model.getO().getA(), \"Wrong content of the object.\");\n          this.assertEquals(\"b\", model.getO().getB(), \"Wrong content of the object.\");\n        }, this);\n      }, this);\n\n      var url = qx.util.ResourceManager.getInstance().toUri(\"qx/test/object.json\");\n      this.__store.setUrl(url);\n\n      this.wait();\n    },\n\n\n    testOwnMixinWith: function() {\n      // define a test class\n      qx.Mixin.define(\"qx.test.M\",\n      {\n        members :\n        {\n          a: function() {\n            return true;\n          }\n        }\n      });\n\n      var delegate = {\n        getModelMixins : function(properties) {\n          return qx.test.M;\n        }\n      };\n      this.__store = new qx.data.store.Json(null, delegate);\n\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          this.assertTrue(model.a(), \"Mixin not included.\");\n          this.assertNotNull(model.getO(), \"The model is not created how it should!\");\n          this.assertTrue(model.getO().a(), \"Mixin not included.\");\n          this.assertEquals(\"a\", model.getO().getA(), \"Wrong content of the object.\");\n          this.assertEquals(\"b\", model.getO().getB(), \"Wrong content of the object.\");\n        }, this);\n      }, this);\n\n      var url = qx.util.ResourceManager.getInstance().toUri(\"qx/test/object.json\");\n      this.__store.setUrl(url);\n\n      this.wait();\n    },\n\n    testOwnMixinWithMultiple: function() {\n      // define a test class\n      qx.Mixin.define(\"qx.test.M1\",\n      {\n        members :\n        {\n          a: function() {\n            return true;\n          }\n        }\n      });\n      qx.Mixin.define(\"qx.test.M2\",\n      {\n        members :\n        {\n          b: function() {\n            return true;\n          }\n        }\n      });\n\n\n      var delegate = {\n        getModelMixins : function(properties) {\n          return [qx.test.M1, qx.test.M2];\n        }\n      };\n      this.__store = new qx.data.store.Json(null, delegate);\n\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          this.assertTrue(model.a(), \"Mixin not included.\");\n          this.assertTrue(model.b(), \"Mixin not included.\");\n          this.assertNotNull(model.getO(), \"The model is not created how it should!\");\n          this.assertTrue(model.getO().a(), \"Mixin not included.\");\n          this.assertEquals(\"a\", model.getO().getA(), \"Wrong content of the object.\");\n          this.assertEquals(\"b\", model.getO().getB(), \"Wrong content of the object.\");\n        }, this);\n      }, this);\n\n      var url = qx.util.ResourceManager.getInstance().toUri(\"qx/test/object.json\");\n      this.__store.setUrl(url);\n\n      this.wait();\n    },\n\n\n    testManipulatePrimitive: function() {\n      var delegate = {manipulateData : function(data) {\n        return data;\n      }};\n\n      this.spy(delegate, \"manipulateData\");\n\n      this.__store.dispose();\n      this.__store = new qx.data.store.Json(null, delegate);\n\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          this.assertCalled(delegate.manipulateData);\n        }, this);\n      }, this);\n\n      var url = this.url;\n      this.__store.setUrl(url);\n\n      this.wait();\n    },\n\n\n    testConfigureRequestPrimitive: function() {\n      var delegate,\n          self = this;\n\n      delegate = {configureRequest : function(request) {\n        self.assertInstance(request, qx.io.request.Xhr);\n      }};\n\n      this.spy(delegate, \"configureRequest\");\n\n      this.__store.dispose();\n      this.__store = new qx.data.store.Json(null, delegate);\n\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          this.assertCalled(delegate.configureRequest);\n        }, this);\n      }, this);\n\n      var url = this.url;\n      this.__store.setUrl(url);\n\n      this.wait();\n    },\n\n\n    testDisposeOldModel: function(){\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          var model = this.__store.getModel();\n          // check if the new model is not the old model\n          this.assertNotEquals(fakeModel, model);\n          // check if the old model has been disposed\n          this.assertTrue(fakeModel.isDisposed());\n        }, this);\n      }, this);\n\n      // set a fake model\n      var fakeModel = new qx.core.Object();\n      this.__store.setModel(fakeModel);\n\n      var url = this.url;\n      this.__store.setUrl(url);\n\n      this.wait();\n    },\n\n\n    testDisposeRequest: function() {\n      this.setUpFakeRequest();\n      this.__store.setUrl(this.url);\n      this.__store.dispose();\n\n      this.assertCalled(this.request.dispose);\n    },\n\n\n    testDisposeRequestDone: function() {\n      this.setUpFakeRequest();\n      var url = this.url;\n      this.__store.addListener(\"loaded\", function() {\n        this.resume(function() {\n          this.__store.dispose();\n          this.assertCalled(this.request.dispose);\n        }, this);\n      }, this);\n      this.__store.setUrl(url);\n    },\n\n\n    testErrorEvent : function() {\n      this.__store.addListener(\"error\", function(ev) {\n        this.resume(function() {\n          this.assertNotNull(ev);\n        }, this);\n      }, this);\n\n      this.__store.setUrl(\"not-found\");\n\n      this.wait();\n    },\n\n    \"test Internal Server Error\" : function() {\n      this.useFakeServer();\n\n      var server = this.getServer();\n      server.respondWith(\"GET\", \"/foo\", [ 500,\n        {\"Content-Type\": \"application/json\"}, \"SERVER ERROR\" ]);\n\n      this.__store.addListener(\"error\", function(e)\n      {\n        this.resume(function(){\n          this.assertTrue(e.getData().getPhase() == \"statusError\");\n        });\n      }, this);\n\n      qx.event.Timer.once(function()\n      {\n        this.__store.setUrl(\"/foo\");\n        server.respond();\n      }, this, 500);\n\n      this.wait(1000);\n    }\n  }\n});\n"
  ]
}