{
  "version": 3,
  "sources": [
    "/home/runner/work/incubator.qx.io.jsonrpc/incubator.qx.io.jsonrpc/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/test/ui/core/DragDropScrolling.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "test",
    "ui",
    "LayoutTestCase",
    "include",
    "core",
    "MDragDropScrolling",
    "members",
    "list",
    "setUp",
    "_createDummyList",
    "getRoot",
    "add",
    "left",
    "flush",
    "tearDown",
    "destroy",
    "form",
    "List",
    "i",
    "ListItem",
    "testFindScrollableParent",
    "li",
    "findItem",
    "assertNotNull",
    "_findScrollableParent",
    "testIsScrollable",
    "assertTrue",
    "_isScrollable",
    "assertFalse",
    "testGetBounds",
    "bounds",
    "_getBounds",
    "assertKeyInMap",
    "testGetEdgeType",
    "diff",
    "assertEquals",
    "_getEdgeType",
    "testGetAxis",
    "_getAxis",
    "assertException",
    "Error",
    "testGetThresholdByEdgeType",
    "setDragScrollThresholdX",
    "_getThresholdByEdgeType",
    "setDragScrollThresholdY",
    "testIsScrollbarVisible",
    "_isScrollbarVisible",
    "testIsScrollbarExceedingMaxPos",
    "scrollbar",
    "getChildControl",
    "_isScrollbarExceedingMaxPos",
    "testCalculateThresholdExeedance",
    "_calculateThresholdExceedance",
    "testCalculateScrollAmount",
    "_calculateScrollAmount",
    "testScrollBy",
    "initPos",
    "getPosition",
    "exceedanceAmount",
    "amount",
    "getBounds",
    "height",
    "_scrollBy",
    "Math",
    "ceil",
    "testRootWidget",
    "behavior",
    "DragDropScrolling",
    "_getWidget",
    "dispose",
    "widget",
    "Widget",
    "testListenerTargets",
    "hasListener"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2013 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Richard Sternagel (rsternagel)\n\n************************************************************************ */\nqx.Class.define(\"qx.test.ui.core.DragDropScrolling\",\n{\n  extend : qx.test.ui.LayoutTestCase,\n\n  // the mixin under test:\n  include : qx.ui.core.MDragDropScrolling,\n\n  members :\n  {\n    list: null,\n\n    setUp : function()\n    {\n      this.list = this._createDummyList();\n      this.getRoot().add(this.list, {left: 150});\n\n      // render the widgets\n      this.flush();\n    },\n\n    tearDown : function()\n    {\n      this.list.destroy();\n    },\n\n    _createDummyList : function()\n    {\n      var list = new qx.ui.form.List();\n      for (var i=0; i<20; i++) {\n        list.add(new qx.ui.form.ListItem(\"Item \" + i));\n      }\n      return list;\n    },\n\n    testFindScrollableParent : function()\n    {\n      var li = this.list.findItem(\"Item 7\");\n      this.assertNotNull(this._findScrollableParent(li));\n    },\n\n    testIsScrollable : function()\n    {\n      this.assertTrue(this._isScrollable(this.list));\n      this.assertFalse(this._isScrollable(this));\n    },\n\n    testGetBounds : function()\n    {\n      var bounds = this._getBounds(this.list);\n\n      this.assertKeyInMap(\"top\", bounds);\n      this.assertKeyInMap(\"right\", bounds);\n      this.assertKeyInMap(\"bottom\", bounds);\n      this.assertKeyInMap(\"left\", bounds);\n    },\n\n    testGetEdgeType : function()\n    {\n      var diff = {};\n\n      diff = {\"left\":-20, \"right\":0, \"bottom\":0, \"top\":0};\n      this.assertEquals(\"left\", this._getEdgeType(diff, 20, 30));\n\n      diff = {\"left\":0, \"right\":20, \"bottom\":0, \"top\":0};\n      this.assertEquals(\"right\", this._getEdgeType(diff, 20, 30));\n\n      diff = {\"left\":0, \"right\":0, \"bottom\":0, \"top\":-30};\n      this.assertEquals(\"top\", this._getEdgeType(diff, 20, 30));\n\n      diff = {\"left\":0, \"right\":0, \"bottom\":30, \"top\":0};\n      this.assertEquals(\"bottom\", this._getEdgeType(diff, 20, 30));\n    },\n\n    testGetAxis : function()\n    {\n      this.assertEquals(\"x\", this._getAxis(\"left\"));\n      this.assertEquals(\"x\", this._getAxis(\"right\"));\n      this.assertEquals(\"y\", this._getAxis(\"top\"));\n      this.assertEquals(\"y\", this._getAxis(\"bottom\"));\n      this.assertException(function() { this._getAxis(\"notLeftRightTopOrBottom\"); }, Error);\n    },\n\n    testGetThresholdByEdgeType : function()\n    {\n      this.setDragScrollThresholdX(15);\n      this.assertEquals(15, this._getThresholdByEdgeType(\"left\"));\n      this.assertEquals(15, this._getThresholdByEdgeType(\"right\"));\n\n      this.setDragScrollThresholdY(25);\n      this.assertEquals(25, this._getThresholdByEdgeType(\"top\"));\n      this.assertEquals(25, this._getThresholdByEdgeType(\"bottom\"));\n    },\n\n    testIsScrollbarVisible : function()\n    {\n      this.assertTrue(this._isScrollbarVisible(this.list, \"y\"));\n      this.assertFalse(this._isScrollbarVisible(this.list, \"x\"));\n    },\n\n    testIsScrollbarExceedingMaxPos : function()\n    {\n      var scrollbar = this.list.getChildControl(\"scrollbar-y\", true);\n      this.assertFalse(this._isScrollbarExceedingMaxPos(scrollbar, \"y\", 30));\n    },\n\n    testCalculateThresholdExeedance : function()\n    {\n      this.assertEquals(10, this._calculateThresholdExceedance(10, 20));\n      this.assertEquals(-10, this._calculateThresholdExceedance(-10, 20));\n    },\n\n    testCalculateScrollAmount : function()\n    {\n      this.assertEquals(10, this._calculateScrollAmount(500, 20));\n      this.assertEquals(-10, this._calculateScrollAmount(-500, 20));\n    },\n\n    testScrollBy : function()\n    {\n      var scrollbar = this.list.getChildControl(\"scrollbar-y\", true),\n          initPos = scrollbar.getPosition(),\n          exceedanceAmount = 20,\n          amount = this._calculateScrollAmount(scrollbar.getBounds().height, exceedanceAmount);\n\n      this._scrollBy(this.list, \"y\", exceedanceAmount);\n      this.assertEquals(Math.ceil(initPos + amount), scrollbar.getPosition());\n    },\n\n    testRootWidget : function()\n    {\n      var behavior;\n\n      // application root\n      behavior = new qx.ui.core.DragDropScrolling();\n      this.assertTrue(behavior._getWidget() === this.getRoot(), \"Root widget must be application root!\");\n      behavior.dispose();\n\n      // explicit widget\n      var widget = new qx.ui.core.Widget();\n      behavior = new qx.ui.core.DragDropScrolling(widget);\n      this.assertTrue(behavior._getWidget() === widget, \"Wrong root widget!\");\n      behavior.dispose();\n      widget.dispose();\n    },\n\n    testListenerTargets : function()\n    {\n      var behavior;\n\n      // application root\n      behavior = new qx.ui.core.DragDropScrolling();\n      this.assertTrue(behavior._getWidget().hasListener(\"drag\"), \"'drag' event listener not found !\");\n      this.assertTrue(behavior._getWidget().hasListener(\"dragend\"), \"'dragend' event listener not found !\");\n      behavior.dispose();\n\n      // explicit widget\n      var widget = new qx.ui.core.Widget();\n      behavior = new qx.ui.core.DragDropScrolling(widget);\n      this.assertTrue(widget.hasListener(\"drag\"), \"'drag' event listener not found !\");\n      this.assertTrue(widget.hasListener(\"dragend\"), \"'dragend' event listener not found !\");\n      behavior.dispose();\n      widget.dispose();\n\n      // list widget\n      this.assertTrue(this.list.hasListener(\"drag\"), \"'drag' event listener not found !\");\n      this.assertTrue(this.list.hasListener(\"dragend\"), \"'dragend' event listener not found !\");\n    }\n  }\n});\n"
  ]
}