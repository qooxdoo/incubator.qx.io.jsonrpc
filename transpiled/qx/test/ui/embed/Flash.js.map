{
  "version": 3,
  "sources": [
    "/home/travis/build/qooxdoo/incubator.qx.io.jsonrpc/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/test/ui/embed/Flash.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "test",
    "ui",
    "LayoutTestCase",
    "include",
    "dev",
    "unit",
    "MMock",
    "MRequirements",
    "statics",
    "isFlashReady",
    "flashCallback",
    "embed",
    "Flash",
    "members",
    "__flash",
    "__params",
    "__variables",
    "setUp",
    "require",
    "flush",
    "wmode",
    "quality",
    "allowScriptAccess",
    "swLiveConnect",
    "play",
    "loop",
    "menu",
    "init",
    "flashVar1",
    "flashVar2",
    "flash",
    "setVariables",
    "setScale",
    "setPlay",
    "setLoop",
    "setMenu",
    "getRoot",
    "add",
    "edge",
    "tearDown",
    "removeAll",
    "destroy",
    "testEvents",
    "loading",
    "loaded",
    "timeout",
    "spy",
    "addListener",
    "that",
    "wait",
    "assertCalled",
    "assertNotCalled",
    "calledAfter",
    "testLoadTimeout",
    "core",
    "Environment",
    "get",
    "skip",
    "setLoadTimeout",
    "testCreateFlash",
    "getFlashElement",
    "assertNotNull",
    "assertIdentical",
    "nodeName",
    "toLowerCase",
    "width",
    "height",
    "id",
    "classid",
    "index",
    "data",
    "lastIndexOf",
    "substring",
    "length",
    "type",
    "params",
    "flashvars",
    "children",
    "childNodes",
    "name",
    "testSuccessful",
    "i",
    "value",
    "assertTrue",
    "testProperties",
    "assertException",
    "setSource",
    "Error",
    "setId",
    "setQuality",
    "setWmode",
    "setAllowScriptAccess",
    "setLiveConnect",
    "key",
    "testExternalInterface",
    "location",
    "protocol",
    "indexOf",
    "warn",
    "result",
    "echo"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2010 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christian Hagendorn (chris_schmidt)\n\n************************************************************************ */\n\n/* ************************************************************************\n\n\n************************************************************************ */\n/**\n *\n * @asset(qx/test/UnitTestFlash.swf)\n */\n\nqx.Class.define(\"qx.test.ui.embed.Flash\",\n{\n  extend : qx.test.ui.LayoutTestCase,\n  include : [qx.dev.unit.MMock, qx.dev.unit.MRequirements],\n\n  statics :\n  {\n    isFlashReady : false,\n\n\n    flashCallback : function() {\n      qx.test.ui.embed.Flash.isFlashReady = true;\n    }\n  },\n\n  members :\n  {\n    __flash : null,\n\n\n    __params : null,\n\n\n    __variables : null,\n\n\n    setUp : function()\n    {\n      this.require([\"plugin.flash\"]);\n      this.flush();\n      this.__params = {\n        wmode : \"opaque\",\n        quality : \"best\",\n        allowScriptAccess : \"sameDomain\",\n        swLiveConnect : \"true\",\n        play : \"true\",\n        loop : \"true\",\n        menu : \"true\"\n      };\n\n      this.__variables = {\n        init : \"qx.test.ui.embed.Flash.flashCallback\",\n        flashVar1: \"bli bla blub\",\n        flashVar2: \"bulb alb ilb\"\n      };\n\n      var flash = this.__flash = new qx.ui.embed.Flash(\"qx/test/UnitTestFlash.swf\", \"flashmovie\");\n      flash.setVariables(this.__variables);\n      flash.setScale(\"noscale\");\n      flash.setPlay(true);\n      flash.setLoop(true);\n      flash.setMenu(true);\n\n      this.getRoot().add(this.__flash, {edge: 10});\n    },\n\n\n    tearDown : function() {\n      qx.test.ui.embed.Flash.isFlashReady = false;\n      this.getRoot().removeAll();\n      this.__flash.destroy();\n      this.__flash = null;\n    },\n\n\n    testEvents : function()\n    {\n      // disable event tests for chrome on linux to have travis ci\n      // succeed again\n      // see https://github.com/qooxdoo/qooxdoo/issues/9167\n      this.require([\"noChromeOnLinux\"]);\n      var test = {\n        loading : function() {},\n        loaded : function() {},\n        timeout : function() {}\n      };\n\n      var loading = this.spy(test, \"loading\");\n      var loaded = this.spy(test, \"loaded\");\n      var timeout = this.spy(test, \"timeout\");\n      this.__flash.addListener(\"loading\", test.loading);\n      this.__flash.addListener(\"loaded\", test.loaded);\n      this.__flash.addListener(\"timeout\", test.timeout);\n\n      var that = this;\n      this.wait(2000, function()\n      {\n        that.assertCalled(loading);\n        that.assertCalled(loaded);\n        that.assertNotCalled(timeout);\n        loaded.calledAfter(loading);\n      });\n    },\n\n\n    testLoadTimeout : function()\n    {\n      if (qx.core.Environment.get(\"qx.test.travis\") == \"true\") {\n        this.skip(\"Test disabled on travis\");\n      }\n      \n      var test = {\n        loading : function() {},\n        loaded : function() {},\n        timeout : function() {}\n      };\n\n      var loading = this.spy(test, \"loading\");\n      var loaded = this.spy(test, \"loaded\");\n      var timeout = this.spy(test, \"timeout\");\n\n      var flash = new qx.ui.embed.Flash(\"qx/test/invalidmovie.swf\", \"invalidmovie\");\n      flash.setLoadTimeout(1000);\n      this.getRoot().removeAll();\n      this.getRoot().add(flash, {edge: 10});\n\n      flash.addListener(\"loading\", test.loading);\n      flash.addListener(\"loaded\", test.loaded);\n      flash.addListener(\"timeout\", test.timeout);\n\n      var that = this;\n      this.wait(2000, function()\n      {\n        that.assertCalled(loading);\n        that.assertNotCalled(loaded);\n        that.assertCalled(timeout);\n        timeout.calledAfter(loading);\n      });\n    },\n\n\n    testCreateFlash : function()\n    {\n      var that = this;\n      this.wait(2000, function()\n      {\n        var flash = that.__flash.getFlashElement();\n        that.assertNotNull(flash, \"DOM element for Flash movie is not created!\");\n\n        that.assertIdentical(\"object\", flash.nodeName.toLowerCase());\n\n        // general object attribute tests\n        that.assertIdentical(\"100%\", flash.width);\n        that.assertIdentical(\"100%\", flash.height);\n        that.assertIdentical(\"flashmovie\", flash.id);\n\n        // object attribute tests for IE or other browser\n        if ((qx.core.Environment.get(\"engine.name\") == \"mshtml\") &&\n          qx.core.Environment.get(\"browser.documentmode\") < 11)\n        {\n          that.assertIdentical(\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\", flash.classid);\n        }\n        else\n        {\n          var index = flash.data.lastIndexOf(\"qx/test/UnitTestFlash.swf\");\n          var substring = flash.data.substring(index, flash.data.length);\n\n          that.assertIdentical(\"qx/test/UnitTestFlash.swf\", substring);\n          that.assertIdentical(\"application/x-shockwave-flash\", flash.type);\n        }\n\n        // test params and flashvars\n        var params = that.__params;\n        params.flashvars = \"init=qx.test.ui.embed.Flash.flashCallback&flashVar1=bli bla blub&flashVar2=bulb alb ilb\";\n\n        var children = flash.childNodes;\n        for(var name in params)\n        {\n          var testSuccessful = false;\n          for(var i = 0; i < children.length; i++)\n          {\n            that.assertIdentical(\"param\", children[i].nodeName.toLowerCase());\n\n            if (children[i].name === name) {\n              testSuccessful = true;\n              that.assertIdentical(params[name], children[i].value);\n              break;\n            }\n          }\n          that.assertTrue(testSuccessful, \"Param element with name:'\" + name + \"' not found!\");\n        }\n      });\n    },\n\n    testProperties : function()\n    {\n      var that = this;\n      this.wait(5000, function()\n      {\n        that.assertException(function()\n        {\n          that.__flash.setSource(\"new.swf\");\n        }, Error, null, \"Error expected by calling 'setSource'!\");\n\n        that.assertException(function()\n        {\n          that.__flash.setId(\"newId\");\n        }, Error, null, \"Error expected by calling 'setId'!\");\n\n        that.assertException(function()\n        {\n          that.__flash.setQuality(\"low\");\n        }, Error, null, \"Error expected by calling 'setQuality'!\");\n\n        that.assertException(function()\n        {\n          that.__flash.setScale(\"excactfit\");\n        }, Error, null, \"Error expected by calling 'setScale'!\");\n\n        that.assertException(function()\n        {\n          that.__flash.setWmode(\"transparent\");\n        }, Error, null, \"Error expected by calling 'setWmode'!\");\n\n        that.assertException(function()\n        {\n          that.__flash.setPlay(false);\n        }, Error, null, \"Error expected by calling 'setPlay'!\");\n\n        that.assertException(function()\n        {\n          that.__flash.setLoop(false);\n        }, Error, null, \"Error expected by calling 'setLoop'!\");\n\n        that.assertException(function()\n        {\n          that.__flash.setMenu(false);\n        }, Error, null, \"Error expected by calling 'setMenu'!\");\n\n        that.assertException(function()\n        {\n          that.__flash.setAllowScriptAccess(\"never\");\n        }, Error, null, \"Error expected by calling 'setAllowScriptAccess'!\");\n\n        that.assertException(function()\n        {\n          that.__flash.setLiveConnect(false);\n        }, Error, null, \"Error expected by calling 'setLiveConnect'!\");\n\n        that.assertException(function()\n        {\n          that.__flash.setVariables({key: \"value\"});\n        }, Error, null, \"Error expected by calling 'setVariables'!\");\n      });\n    },\n\n    testExternalInterface : function()\n    {\n      // skip this test because it only runs with a webserver\n      if (location.protocol.indexOf(\"http\") !== 0) {\n        this.warn(\"Skipped test 'testExternalInterface', because a webserver \" +\n          \"is needed to run this test.\");\n        return;\n      }\n\n      var result = \"\";\n\n      var that = this;\n      this.wait(5000, function()\n      {\n        if (!qx.test.ui.embed.Flash.isFlashReady)\n        {\n          that.warn(\"ExternalInterface not ready -> skipped test\");\n          return;\n        }\n\n        var flash = that.__flash.getFlashElement();\n\n        if (flash.echo) {\n          result = flash.echo(\"hello echo!\");\n        }\n\n        that.assertIdentical(\"hello echo!\", result);\n      });\n    }\n  }\n});\n"
  ]
}