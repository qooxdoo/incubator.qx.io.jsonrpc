{
  "version": 3,
  "sources": [
    "/home/runner/work/incubator.qx.io.jsonrpc/incubator.qx.io.jsonrpc/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/test/ui/virtual/performance/AbstractLayerTest.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "test",
    "ui",
    "LayoutTestCase",
    "type",
    "construct",
    "rowCount",
    "rowHeight",
    "colCount",
    "colWidth",
    "members",
    "ITERATIONS",
    "setUp",
    "layer",
    "getLayer",
    "set",
    "width",
    "height",
    "getRoot",
    "add",
    "flush",
    "rowSizes",
    "i",
    "push",
    "colSizes",
    "tearDown",
    "destroy",
    "Error",
    "testFullUpdateSameWindow",
    "profile",
    "fullUpdate",
    "testFullUpdateScrollDown",
    "startRow",
    "testUpdateLayerWindowScrollDown",
    "updateLayerWindow",
    "testUpdateLayerWindowScrollRight",
    "startCol",
    "testUpdateLayerData",
    "updateLayerData",
    "name",
    "fcn",
    "context",
    "count",
    "window",
    "console",
    "classname",
    "times",
    "l",
    "start",
    "Date",
    "call",
    "duration",
    "sort",
    "a",
    "b",
    "avg",
    "Math",
    "round",
    "lang",
    "Array",
    "sum",
    "slice",
    "length",
    "warn",
    "join",
    "profileEnd",
    "virtual",
    "performance",
    "AbstractLayerTest"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2009 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Jonathan Wei√ü (jonathan_rass)\n\n************************************************************************ */\n\nqx.Class.define(\"qx.test.ui.virtual.performance.AbstractLayerTest\",\n{\n  extend : qx.test.ui.LayoutTestCase,\n  type : \"abstract\",\n\n  construct : function()\n  {\n    this.base(arguments);\n\n    this.rowCount = 30;\n    this.rowHeight = 20;\n    this.colCount = 20;\n    this.colWidth = 40;\n  },\n\n  members :\n  {\n    ITERATIONS : 2, // was 24\n\n    setUp : function()\n    {\n      this.layer = this.getLayer().set({\n        width: 1000,\n        height: 1000\n      });\n\n      this.getRoot().add(this.layer);\n      this.flush();\n\n      this.rowSizes = [];\n      for (var i=0; i<this.rowCount; i++) {\n        this.rowSizes.push(this.rowHeight);\n      }\n\n      this.colSizes = [];\n      for (var i=0; i<this.colCount; i++) {\n        this.colSizes.push(this.colWidth);\n      }\n    },\n\n\n    tearDown : function()\n    {\n      this.layer.destroy();\n    },\n\n\n    getLayer : function()\n    {\n      // throw an exception if the method is called on the abstract class\n      throw new Error(\"Abstract method call (getLayer) in 'AbstractLayerTest'!\");\n    },\n\n\n    testFullUpdateSameWindow : function()\n    {\n      this.profile(\"fullUpdate (same window)\", function()\n      {\n        this.layer.fullUpdate(0, 0, this.rowSizes, this.colSizes);\n      }, this, this.ITERATIONS);\n    },\n\n\n    testFullUpdateScrollDown : function()\n    {\n      var startRow = 0;\n\n      this.profile(\"fullUpdate (scroll)\", function()\n      {\n        this.layer.fullUpdate(startRow, 0, this.rowSizes, this.colSizes);\n        startRow ++;\n      }, this, this.ITERATIONS);\n    },\n\n\n    testUpdateLayerWindowScrollDown : function()\n    {\n      var startRow = 0;\n\n      this.profile(\"scroll down 10 lines\", function()\n      {\n        this.layer.updateLayerWindow(startRow, 0, this.rowSizes, this.colSizes);\n        startRow += 10;\n      }, this, this.ITERATIONS);\n    },\n\n\n    testUpdateLayerWindowScrollRight : function()\n    {\n      var startCol = 0;\n\n      this.profile(\"scroll right 10 columns\", function()\n      {\n        this.layer.updateLayerWindow(0, startCol, this.rowSizes, this.colSizes);\n        startCol += 10;\n      }, this, this.ITERATIONS);\n    },\n\n\n\n    testUpdateLayerData : function()\n    {\n      this.layer.fullUpdate(0, 0, this.rowSizes, this.colSizes);\n      this.flush();\n\n      this.profile(\"update layer data\", function()\n      {\n        this.layer.updateLayerData();\n      }, this, this.ITERATIONS);\n    },\n\n\n    profile : function(name, fcn, context, count)\n    {\n      if (window.console && window.console.profile) console.profile(name + \"; \" + this.classname);\n\n      var times = [];\n      for (var i=0,l=count; i<l; i++)\n      {\n        var start = new Date();\n\n        fcn.call(context);\n        this.flush();\n\n        var duration = new Date() - start;\n        times.push(duration);\n      }\n      times.sort(function(a, b) { return a < b ? -1 : 1;});\n      var avg = Math.round(qx.lang.Array.sum(times.slice(1, -1)) / (times.length-2));\n      //this.warn(\";\" + name + \"; avg(\" + avg + \"ms); \" + times.join(\"ms; \") + \"ms;\");\n      this.warn(\";\" + name + \";avg:\" + avg + \";\" + times.join(\";\"));\n\n      if (window.console && window.console.profile) console.profileEnd(name + \" \" + this.classname);\n    }\n  }\n\n});\n"
  ]
}