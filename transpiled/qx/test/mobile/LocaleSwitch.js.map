{
  "version": 3,
  "sources": [
    "/home/runner/work/incubator.qx.io.jsonrpc/incubator.qx.io.jsonrpc/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/test/mobile/LocaleSwitch.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "test",
    "mobile",
    "MobileTestCase",
    "include",
    "locale",
    "MTranslation",
    "construct",
    "manager",
    "Manager",
    "getInstance",
    "members",
    "__translationAdded",
    "setUp",
    "addTranslation",
    "setLocale",
    "tearDown",
    "resetLocale",
    "testLabel",
    "label",
    "ui",
    "basic",
    "Label",
    "tr",
    "addAutoDispose",
    "getRoot",
    "add",
    "assertEquals",
    "getValue",
    "setValue",
    "destroy",
    "testList",
    "list",
    "List",
    "configureItem",
    "item",
    "data",
    "row",
    "setTitle",
    "title",
    "setSubtitle",
    "subTitle",
    "setModel",
    "Array",
    "__testListEn",
    "title0",
    "q",
    "eq",
    "getHtml",
    "subtitle0",
    "title1",
    "subtitle1",
    "testFormRendererSingle",
    "form",
    "Title",
    "Form",
    "TextField",
    "renderer",
    "Single",
    "_labels",
    "LocaleSwitch"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Daniel Wagner (danielwagner)\n\n************************************************************************ */\n\n/**\n * @require(qxWeb)\n * @require(qx.module.Attribute)\n * @require(qx.module.Traversing)\n */\n\nqx.Class.define(\"qx.test.mobile.LocaleSwitch\",\n{\n  extend : qx.test.mobile.MobileTestCase,\n  include : qx.locale.MTranslation,\n\n\n  construct : function()\n  {\n    this.base(arguments);\n    this.manager = qx.locale.Manager.getInstance();\n  },\n\n\n\n  members :\n  {\n    manager: null,\n    __translationAdded : null,\n\n    setUp : function() {\n      this.base(arguments);\n      if (!this.__translationAdded) {\n        // add dummy translations\n        this.manager.addTranslation(\"en_QX\", {\n          \"test one\"       : \"test one\",\n          \"test two\"       : \"test two\",\n          \"test Hello %1!\" : \"test Hello %1!\",\n          \"test Jonny\"     : \"test Jonny\"\n        });\n        this.manager.addTranslation(\"de_QX\", {\n          \"test one\"       : \"Eins\",\n          \"test two\"       : \"Zwei\",\n          \"test Hello %1!\" : \"Servus %1!\",\n          \"test Jonny\"     : \"Jonathan\"\n        });\n        this.__translationAdded = true;\n      }\n      this.manager.setLocale(\"en_QX\");\n    },\n\n    tearDown : function() {\n      this.base(arguments);\n      this.manager.resetLocale();\n    },\n\n\n    testLabel : function()\n    {\n      var label = new qx.ui.mobile.basic.Label(this.tr(\"test one\"));\n      this.addAutoDispose(label);\n      this.getRoot().add(label);\n\n      this.assertEquals(\"test one\", label.getValue());\n      this.manager.setLocale(\"de_QX\");\n      this.assertEquals(\"Eins\", label.getValue());\n      this.manager.setLocale(\"en_QX\");\n\n      label.setValue(this.tr(\"test Hello %1!\", this.tr(\"test Jonny\")));\n      this.assertEquals(\"test Hello test Jonny!\", label.getValue());\n      this.manager.setLocale(\"de_QX\");\n      this.assertEquals(\"Servus Jonathan!\", label.getValue());\n\n      // de -> en\n      label.setValue(this.tr(\"test two\"));\n      this.assertEquals(\"Zwei\", label.getValue());\n      this.manager.setLocale(\"en_QX\");\n      this.assertEquals(\"test two\", label.getValue());\n\n      label.destroy();\n    },\n\n    testList : function()\n    {\n      var list = new qx.ui.mobile.list.List({\n        configureItem : function(item, data, row) {\n          item.setTitle(data.title);\n          item.setSubtitle(data.subTitle);\n        }\n      });\n\n      var data = [\n        {\n          title: this.tr(\"test one\"),\n          subTitle: this.tr(\"test two\")\n        },\n        {\n          title: this.tr(\"test Hello %1!\", this.tr(\"test Jonny\")),\n          subTitle: this.tr(\"test Jonny\")\n        }\n      ];\n\n      list.setModel(new qx.data.Array(data));\n      this.addAutoDispose(list);\n      this.getRoot().add(list);\n\n      this.__testListEn();\n\n      this.manager.setLocale(\"de_QX\");\n      var title0 = q(\".list * .list-item-title\").eq(0).getHtml();\n      this.assertEquals(\"Eins\". title0);\n      var subtitle0 = q(\".list * .list-item-subtitle\").eq(0).getHtml();\n      this.assertEquals(\"Zwei\", subtitle0);\n      var title1 = q(\".list * .list-item-title\").eq(1).getHtml();\n      this.assertEquals(\"Servus Jonathan!\", title1);\n      var subtitle1 = q(\".list * .list-item-subtitle\").eq(1).getHtml();\n      this.assertEquals(\"Jonathan\", subtitle1);\n\n      this.manager.setLocale(\"en_QX\");\n      this.__testListEn();\n    },\n\n    __testListEn : function() {\n      //debugger\n      var title0 = q(\".list * .list-item-title\").eq(0).getHtml();\n      this.assertEquals(\"test one\". title0);\n      var subtitle0 = q(\".list * .list-item-subtitle\").eq(0).getHtml();\n      this.assertEquals(\"test two\", subtitle0);\n      var title1 = q(\".list * .list-item-title\").eq(1).getHtml();\n      this.assertEquals(\"test Hello test Jonny!\", title1);\n      var subtitle1 = q(\".list * .list-item-subtitle\").eq(1).getHtml();\n      this.assertEquals(\"test Jonny\", subtitle1);\n    },\n\n    testFormRendererSingle : function()\n    {\n      var title = new qx.ui.mobile.form.Title(this.tr(\"test one\"));\n      this.addAutoDispose(title);\n      var form = new qx.ui.mobile.form.Form();\n      form.add(new qx.ui.mobile.form.TextField(), this.tr(\"test two\"));\n\n      this.getRoot().add(title);\n      var renderer = new qx.ui.mobile.form.renderer.Single(form);\n      this.addAutoDispose(renderer);\n      this.getRoot().add(renderer);\n\n      this.assertEquals(\"test one\", title.getValue());\n      this.assertEquals(\"test two\", renderer._labels[0].getValue());\n      this.manager.setLocale(\"de_QX\");\n      this.assertEquals(\"Eins\", title.getValue());\n      this.assertEquals(\"Zwei\", renderer._labels[0].getValue());\n      this.manager.setLocale(\"en_QX\");\n\n      title.destroy();\n      renderer.destroy();\n    }\n  }\n});\n"
  ]
}