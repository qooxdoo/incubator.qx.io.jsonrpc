{
  "version": 3,
  "sources": [
    "/home/runner/work/incubator.qx.io.jsonrpc/incubator.qx.io.jsonrpc/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/source/class/qx/test/mobile/dialog/Menu.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "test",
    "mobile",
    "MobileTestCase",
    "include",
    "dev",
    "unit",
    "MMock",
    "members",
    "testInit",
    "model",
    "data",
    "Array",
    "model2",
    "menu",
    "ui",
    "dialog",
    "Menu",
    "setSelectedIndex",
    "setItems",
    "destroy",
    "testSetListHeight",
    "visibleItems",
    "setVisibleListItems",
    "show",
    "expected",
    "getSelectionList",
    "getListItemHeight",
    "listHeight",
    "bom",
    "element",
    "Style",
    "get",
    "_getListScroller",
    "getContentElement",
    "Math",
    "floor",
    "parseFloat",
    "assertEquals",
    "testMaxListHeight",
    "stub",
    "Dimension",
    "parentHeight",
    "Popup",
    "ROOT",
    "getHeight",
    "parseInt",
    "expectedListHeight",
    "restore"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\nqx.Class.define(\"qx.test.mobile.dialog.Menu\",\n{\n  extend : qx.test.mobile.MobileTestCase,\n  include : [qx.dev.unit.MMock],\n\n  members :\n  {\n    testInit : function()\n    {\n      // SMOKE TEST for menu.\n      var model = new qx.data.Array([\"item1\",\"item2\",\"item3\"]);\n      var model2 = new qx.data.Array([\"item4\",\"item5\",\"item6\"]);\n\n      var menu = new qx.ui.mobile.dialog.Menu(model);\n      menu.setSelectedIndex(2);\n\n      menu.setItems(model2);\n      menu.setSelectedIndex(1);\n\n      menu.destroy();\n    },\n\n\n    testSetListHeight : function()\n    {\n      var model = new qx.data.Array([\"item1\",\"item2\",\"item3\"]);\n\n      var menu = new qx.ui.mobile.dialog.Menu(model);\n\n      var visibleItems = 2;\n\n      menu.setVisibleListItems(visibleItems);\n      menu.show();\n\n      var expected = menu.getSelectionList().getListItemHeight() * visibleItems;\n\n      var listHeight = qx.bom.element.Style.get(menu._getListScroller().getContentElement(),\"height\");\n\n      listHeight = Math.floor(parseFloat(listHeight,10) * 100);\n      expected = Math.floor(expected * 100);\n\n      this.assertEquals(listHeight, expected);\n\n      menu.destroy();\n    },\n\n\n    testMaxListHeight : function() {\n      var stub = this.stub(qx.bom.element.Dimension, \"getHeight\", function() {\n        return 500;\n      });\n\n      var model = new qx.data.Array([\"item1\", \"item2\", \"item3\", \"item1\", \"item2\", \"item3\",\n        \"item1\", \"item2\", \"item3\", \"item1\", \"item2\", \"item3\", \"item2\", \"item3\", \"item2\", \"item3\",  \"item1\", \"item2\", \"item3\",  \"item1\", \"item2\", \"item3\"\n      ]);\n\n      var menu = new qx.ui.mobile.dialog.Menu(model);\n\n      menu.setVisibleListItems(1000);\n      menu.show();\n\n      var parentHeight =  qx.ui.mobile.dialog.Popup.ROOT.getHeight();\n      parentHeight = parseInt(parentHeight, 10);\n      parentHeight = parentHeight * 0.75;\n\n      var expectedListHeight = parseInt(parentHeight, 10);\n\n      var listHeight = qx.bom.element.Style.get(menu._getListScroller().getContentElement(), \"height\");\n      listHeight = parseInt(listHeight, 10);\n\n      this.assertEquals(expectedListHeight,listHeight);\n\n      menu.destroy();\n      stub.restore();\n    }\n  }\n\n});\n"
  ]
}